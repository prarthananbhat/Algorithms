import bisect
class Solution:
    def get_middle_index(self,input_array):
        arr_len = len(input_array)
        middle_index = int(arr_len / 2) - 1 if arr_len % 2 == 0 else int(arr_len / 2)
        return middle_index

    def binary_search(self,input_array, value):
        """Your code goes here."""
        first_ind = 0
        last_ind = len(input_array) - 1
        for i in range(len(input_array)):
            # print("iter",i)
            # print("input_array",input_array)
            middle_index = int((first_ind + last_ind) / 2)
            # print("middle_index",middle_index)
            if value == input_array[middle_index]:
                return middle_index
            elif value > input_array[middle_index]:
                first_ind = middle_index + 1
            else:
                last_ind = middle_index - 1
        return -1

    def add_to_sorted_arr(self,arr,ele):
        bisect.insort(arr,ele)
        return arr

    def get_low_value(self,x_list,v):
        index = self.binary_search(x_list,v)
        return (index - 1)

    def solve(self,A):
        n = len(A)
        max_suffix_arr = [0]*(n+1)
        ans = 0
        for i in range(n-1,-1,-1):
            max_suffix_arr[i] = max(max_suffix_arr[i + 1], A[i])
        sorted_arr = [A[0]]
        for i in range(1,n-1):
            print("\n---Iteration:",i)
            print(A)
            print(max_suffix_arr)

            if max_suffix_arr[i+1] > A[i]:
                print("suf array index:", i + 1)
                print("suf array value:", max_suffix_arr[i + 1])
                print("array_value:", A[i])

                sorted_arr = self.add_to_sorted_arr(sorted_arr, A[i])
                print("lv array:", sorted_arr)


                low_value_index = self.get_low_value(sorted_arr, A[i])
                if low_value_index >=0:
                    low_value = sorted_arr[low_value_index]
                    print("********")

                    print("low value:",low_value,"\n")
                    ans = max(ans,(low_value+A[i]+max_suffix_arr[i+1]))
                    print(low_value,A[i],max_suffix_arr[i+1])
                    print(ans)
                    print("________________")
        return ans

S=Solution()
A =  [ 1071, 15998, 12032, 14171, 10268, 12816, 21116, 32144, 16829, 9643, 9839, 9391, 21945, 30445, 3914, 18289, 31670, 26477, 28319, 3636, 4967, 3498, 8254, 18326, 19141, 21058, 21150, 28483, 22940, 19813, 15998, 5899, 5706, 6280, 459, 26168, 18371, 26718, 8645, 8990, 22745, 772, 30814, 31475, 20667, 26236, 4322, 31713, 13499, 13148, 14301, 30042, 14164, 12231, 16954, 12972, 22635, 30365, 20392, 17365, 23253, 9967, 3138, 18584, 13082, 10166, 13678, 29136, 21368, 21444, 26117, 11525, 31019, 8698, 28085, 11837, 24300, 7612, 14244, 19476, 30904, 17314, 1110, 25103, 7378, 5744, 31441, 11566, 15883, 73, 21759, 22208, 6977, 21535, 11091, 8571, 2086, 878, 9135, 27852, 13122, 23594, 1926, 620, 3388, 25334, 1342, 25140, 13653, 7574, 8408, 50, 3893, 24999, 6098, 10492, 26090, 31629, 15436, 68, 16430, 16814, 2923, 19885, 18920, 26590, 763, 3037, 30454, 10009, 31320, 28116, 17194, 3448, 654, 20092, 13202, 2654, 4543, 16001, 31997, 2802, 32197, 9314, 29626, 15059, 2585, 8905, 10403, 15623, 3315, 14616, 22363, 28980, 28595, 21060, 2515, 6418, 3712, 13798, 5395, 29216, 15151, 3983, 21303, 6038, 26470, 92, 16055, 16539, 14849, 28363, 21228, 11961, 5044, 2253, 21968, 24718, 18162, 11293, 28422, 23748, 1806, 10447, 12314, 10563, 21153, 4652, 29193, 17060, 23851, 4541, 11268, 10217, 15357, 28838, 10097, 20076, 23126, 19254, 13619, 4630, 30924, 8891, 18475, 30161, 15341, 16795, 6398, 18496, 3623, 9632, 14105, 173, 22757, 25748, 10995, 26691, 22779, 16142, 3474, 25469, 4676, 21899, 14673, 28638, 9865, 13248, 30688, 10723, 5029, 9775, 20876, 28470, 7399, 3577, 25025, 28964, 25528, 9971, 21709, 19281, 29566, 29691, 29414, 29354, 17600, 17805, 23663, 4252, 31626, 3729, 23415, 7811, 25875, 31607, 28291, 21862, 30877, 32646, 28813, 17889, 24477, 19569, 588, 11362, 18716, 26668, 6326, 21913, 3165, 21757, 21700, 10025, 24256, 32726, 2165, 8356, 8422, 26850, 3349, 26806, 1814, 14942, 20159, 15008, 8415, 16810, 12577, 18408, 1023, 32416, 12671, 25167, 7812, 15652, 27130, 516, 29745, 27900, 23059, 31767, 19235, 11235, 6251, 32048, 2997, 13784, 20940, 7297, 22432, 12220, 14701, 6905, 7271, 28, 20082, 8891, 9458, 10828, 6835, 6862, 28280, 24501, 20158, 25366, 17571, 15215, 24351, 3203, 26863, 23571, 1759, 24968, 18772, 20426, 21322, 21199, 2596, 1706, 7413, 7211, 26422, 16195, 4608, 13774, 12356, 8564, 13721, 26044, 25746, 31620, 30913, 1407, 12752, 21869, 20563, 20508, 23106, 20091, 27714, 19527, 17950, 30998, 29730, 9939, 17462, 10460, 27882, 4460, 15830, 26356, 11256, 31112, 25072, 158, 31573, 11163, 2934, 25614, 21307, 13962, 26376, 16250, 19668, 9059, 7119, 5746, 12869, 21835, 31657, 16752, 20459, 9656, 32390, 2992, 27364, 4320, 3346, 25409, 210, 1649, 24212, 20317, 13531, 12930, 28181, 8438, 3573, 21193, 19142, 4497, 27232, 27663, 18332, 17495, 19571, 29666, 20029, 23913, 25756, 17034, 22815, 9077, 31907, 24894, 22766, 24455, 10286, 2199, 2351, 28449, 24202, 25412, 30756, 15501, 25000, 26880, 17903, 4466, 5734, 26049, 24313, 30630, 12816, 306, 13717, 7235, 24871, 23140, 16097, 26877, 19297, 3008, 14061, 18354, 6384, 11073, 28704, 17475, 23815, 6880, 12759, 163, 2459, 15695, 27214, 12077, 20583, 25321, 14276, 1851, 5426, 746, 3290, 26612, 21844, 5339, 29757, 7525, 10359, 7761, 14212, 31700, 16027, 18647, 27996, 17744, 32605, 5161, 13026, 3469, 11896, 30883, 5200, 4079, 14732, 3576, 26844, 11237, 4894, 2599, 9693, 31608, 16096, 11435, 27952, 14372, 29491, 27122, 23258, 25062, 29675, 27409, 21998, 23702, 2642, 13750, 26802, 30583, 15983, 4190, 25597, 4877, 13704, 30408, 20963, 22830, 23013, 12969, 31636, 15196, 12247, 27809, 1666, 11090, 31737, 18798, 27842, 16861, 7862, 26464, 21685, 18413, 18699, 20492, 3047, 21996, 28302, 12869, 10551, 32078, 6320, 30792, 6713, 12394, 32575, 3639, 8152, 23688, 2607, 27849, 32320, 27195, 8345, 15423, 25595, 6129, 26884, 9114, 19545, 25288, 24292, 6155, 24854, 29091, 24928, 16555, 7991, 13950, 8024, 17004, 17205, 14846, 1191, 2127, 16477, 17740, 3237, 23512, 18295, 24100, 7664, 25024, 8358, 18729, 21357, 20201, 23695, 1660, 22153, 27031, 8381, 31884, 11973, 10972, 4932, 17712, 10865, 5204, 10661, 20723, 17591, 3603, 24306, 21678, 11484, 24796, 5427, 13661, 21187, 8339, 9735, 26155, 7347, 6901, 26255, 27855, 10841, 7815, 8839, 27, 18705, 11724, 21174, 29906, 32097, 29371, 4745, 27835, 17862, 1648, 6395, 31731, 31412, 24866, 14519, 14471, 28632, 1621, 11137, 26690, 15008, 16721, 11474, 16580, 16893, 1490, 10178, 28116, 31592, 18689, 31787, 20984, 31011, 26275, 7948, 13634, 11713, 26257, 6699, 22124, 2280, 13928, 12031, 4648, 20822, 11137, 8396, 5297, 24610, 24868, 27152, 18854, 8516, 18168, 24862, 32280, 32088, 29630, 4105, 26850, 4255, 4159, 17347, 3384, 21319, 28291, 5766, 11139, 5868, 8516, 31091, 13420, 32094, 10146, 378, 29239, 19621, 281, 31609, 23635, 17474, 15791, 2984, 18735, 22456, 24178, 23604, 29263, 29259, 6689, 7978, 32414, 10248, 23082, 26519, 1798, 30725, 980, 7662, 18750, 1002, 25022, 5033, 31971, 24752, 16776, 31283, 32459, 25769, 6608, 16646, 18070, 5825, 19552, 7952, 23173, 8963, 22693, 19292, 13712, 30815, 4708, 10478, 21426, 29610, 12456, 27119, 22664, 15334, 18687, 28170, 1050, 13252, 2789, 24597, 27129, 9319, 20353, 22260, 7818, 1387, 20879, 32186, 20129, 1574, 8606, 1810, 30033, 15405, 10875, 28638, 9219, 6938, 23021, 21789, 4294, 6541, 16802, 24850, 24294, 10097, 17514, 5027, 21952, 22913, 9123, 27135, 31188, 28170, 244, 10627, 15388, 3826, 10303, 20959, 13213, 29945, 13776, 31348, 5435, 20543, 27867, 7937, 24017, 6663, 21029, 8063, 25217, 13242, 24321, 30537, 15177, 30511, 24702, 28544, 15319, 7209, 22239, 20654, 28319, 5921, 26955, 22441, 17962, 21830, 16838, 29115, 30897, 31171, 25952, 1023, 14826, 64, 23724, 16910, 18210, 26795, 16500, 22491, 31116, 20536, 32427, 27356, 21209, 7078, 27555, 13931, 14344, 5829, 29569, 18283, 20096, 11573, 32749, 6958, 12124, 8304, 26126, 9622, 25862, 24330, 28853, 635, 26375, 24888, 23256, 22093, 2077, 11920, 20035, 8699, 2702, 28943, 14986, 3603, 20157, 14688, 6210, 28970, 20475, 22619, 27760, 5502, 25503, 29133, 8258, 474, 28249, 11383, 253, 18874, 963, 9049, 31799, 10416, 9273, 31792, 27718, 27910, 3307, 18237, 2296, 30117, 20016, 3144, 20613, 18229, 7198, 10469, 31937, 31878, 3415, 25590, 22678, 5679, 15397, 23153, 2482, 28021, 32202, 10595, 8829, 20078, 9233, 31029, 4174, 32102, 32041, 20014, 14814, 11137, 1459, 16954, 25085, 7842, 282, 3050, 8835, 4236, 27683, 30395, 5002, 2375, 32197, 12443, 29402, 14534, 10810, 4265, 24485, 5062, 23638, 15165, 32373, 14329, 22808, 18216, 6498, 23396, 383, 18493, 4232, 19205, 26270, 25360, 11960, 15546, 25587, 19965, 13934, 30814, 13301, 25452, 15107, 7221, 13036, 10580, 6692, 138, 17413, 29182, 10627, 32406, 3238, 31244, 27852, 7844, 31231, 10169, 26587, 29043, 17634, 20322, 24876, 6364, 26580, 8518, 10387, 17332, 15204, 9354, 13869, 8436, 11451, 25472, 13718, 3607, 17013, 11560, 20828, 1220, 25519, 4087, 21172, 2989, 5473, 29144, 26988, 11959, 8687, 26993, 12321, 16987, 24314, 15527, 16562, 30284, 1404, 10340, 27892, 31578, 20500, 21911, 28584, 16534, 21406, 8061, 10666, 2999, 17927, 3872, 16235, 28860, 10079, 12317, 10912, 27859, 304, 8873, 5180, 10362, 12303, 3798, 2716, 9444, 27504, 23827, 26626, 22686, 32703, 22514, 32069, 32626, 28332, 6959, 21703, 8588, 27078, 29677, 8614, 5595, 23371, 5698, 12087, 954, 28990, 19446, 25776, 10192, 24251, 136, 12580, 24628, 18312, 20082, 29621, 17365, 2540, 29102, 13317, 18714, 23236, 17273, 16109, 16325, 26579, 9047, 31602, 8733, 29786, 29015, 3060, 332, 9192, 32152, 4009, 4358, 26484, 4364, 6218, 5739, 16553, 29564, 10252, 15919, 20353, 4813, 19410, 7672, 24085, 12161, 9633, 25863, 24244, 12929, 31572, 27, 4146, 4121, 7569, 13458, 15490, 23620, 15099, 30418, 17799, 29738, 29609, 32743, 29736, 24807, 16600, 26221, 15779, 22414, 1244, 16049, 29475, 31341, 22365, 1555, 3988, 16275, 25023, 23983, 6070, 8336, 24546, 22588, 16496, 30588, 6412, 24371, 20328, 11579, 25891, 29492, 27088, 7422, 4640, 19367, 17795, 20749, 15808, 6559, 28752, 31941, 30588, 29187, 8597, 22492, 16060, 8943, 18960, 16109, 12616, 30808, 22003, 15664, 32255, 13295, 21814, 25480, 28619, 15432, 32305, 4292, 9428, 18236, 15978, 3870, 17908, 908, 19884, 11016, 21100, 1478, 30553, 10025, 21461, 31853, 3584, 12706, 3673, 28500, 15666, 16021, 290, 3659, 11666, 27624, 19219, 21245, 12076, 21062, 18358, 31257, 24072, 26471, 30838, 6064, 29950, 21906, 3599, 19167, 17099, 27744, 9794, 21677, 30053, 3778, 4557, 5686, 12172, 16965, 13978, 14858, 7330, 17301, 25143, 3280, 30396, 17472, 8326, 18735, 13049, 13757, 27318, 23278, 18451, 17837, 17009, 23897, 17203, 28512, 3415, 22759, 7946, 18075, 17580, 1051, 4381, 24473, 19789, 2984, 16736, 30799, 3049, 9688, 8199, 18165, 2413, 29998, 19865, 4545, 15296, 32331, 18758, 29686, 18097, 13582, 22906, 29725, 18734, 25855, 25266, 20370, 2742, 30958, 8335, 8003, 7440, 26071, 29992, 14773, 17982, 15625, 17061, 30280, 18093, 10631, 778, 13755, 20398, 23727, 4688, 21490, 15914, 11801, 24250, 26359, 28048, 29378, 29542, 28480, 14099, 20330, 4387, 23856, 28947, 2618, 18818, 4063, 728, 8106, 20528, 12574, 24710, 7842, 30338, 4790, 845, 4063, 1362, 28913, 12769, 27801, 26890, 15964, 11562, 26723, 25598, 23754, 5436, 4690, 15103, 26524, 6793, 4449, 4140, 29504, 20309, 20, 24588, 26104, 11627, 11100, 21722, 19933, 9231, 14523, 25632, 22563, 16947, 30632, 27272, 19870, 20718, 25141, 14830, 14469, 29225, 4335, 19897, 6007, 6044, 9734, 6508, 16827, 26105, 29614, 9592, 24780, 22630, 25028, 28245, 8981, 14385, 22197, 14800, 3065, 15551, 10140, 22183, 1302, 26566, 21418, 31315, 5323, 29116, 3787, 12581, 24055, 23184, 24454, 5268, 19716, 29335, 21541, 15318, 5669, 28617, 4887, 6829, 26843, 25389, 19090, 17028, 31934, 8850, 17277, 14778, 23418, 31360, 7052, 23870, 3096, 15470, 27309, 92, 895, 32053, 22435, 16086, 32314, 6085, 24560, 13623, 10107, 18455, 22265, 4964, 12640, 29283, 24677, 15732, 17014, 27282, 27078, 28353, 23676, 20470, 26491, 4927, 8297, 20793, 22741, 19213, 5040, 27795, 22392, 19530, 19138, 64, 13828, 5930, 7380, 16178, 29173, 12361, 17635, 24067, 31944, 21823, 5110, 3117, 8288, 24436, 6308, 3453, 679, 18742, 24533, 1989, 3192, 2312, 13005, 22738, 14269, 14141, 30310, 2205, 2260, 12742, 3996, 11205, 14136, 12873, 29007, 19005, 18781, 2675, 14149, 7746, 10203, 31374, 29295, 16273, 27599, 22102, 2669, 3798, 27774, 27656, 22611, 30055, 20540, 25021, 24238, 19762, 9357, 31990, 17090, 1269, 16777, 2168, 27414, 21677, 31877, 19546, 26419, 5712, 28143, 19548, 1192, 5822, 20090, 16506, 13649, 29429, 12155, 31681, 10969, 21893, 4755, 13666, 19326, 10309, 9359, 26629, 25620, 3651, 8076, 15199, 15181, 14849, 6239, 11271, 27191, 29662, 15156, 25989, 7686, 25810, 15220, 684, 10004, 31070, 31469, 10283, 31014, 28867, 11309, 11614, 241, 27763, 29742, 18282, 29405, 5061, 20281, 27272, 30472, 8172, 15620, 21921, 22158, 25642, 30750, 31772, 3592, 9793, 15500, 16884, 26962, 23339, 25013, 15885, 3218, 7178, 19323, 30408, 3701, 26466, 30379, 19669, 1980, 646, 9367, 2120, 15352, 3920, 27137, 15343, 16273, 10773, 9531, 29411, 16141, 9176, 8077, 23646, 19343, 11454, 24023, 27084, 20638, 706, 25719, 4901, 5928, 30890, 29293, 13689, 31175, 26938, 30653, 16333, 11842, 27303, 19221, 8741, 18519, 22095, 25264, 13026, 22968, 30886, 5242, 32334, 21331, 32116, 8565, 13430, 3030, 27710, 4187, 10552, 3955, 18689, 7045, 6812, 7393, 11559, 13835, 12648, 29603, 27827, 27693, 28654, 22412, 7103, 8946, 809, 28035, 2088, 31502, 10760, 21892, 31624, 23305, 9994, 9703, 22884, 25758, 28683, 11237, 28071, 22882, 4190, 5464, 32591, 12966, 28955, 26562, 31591, 28829, 31674, 26769, 19509, 25794, 19169, 23201, 12468, 31604, 23931, 13571, 10309, 18659, 10, 14077, 18081, 23856, 24638, 32081, 1042, 9168, 32454, 31938, 24035, 21042, 29542, 1493, 23316, 10657, 14154, 13781, 18771, 4203, 27034, 31001, 17960, 17987, 16974, 650, 26736, 14308 ]
print(S.solve(A))